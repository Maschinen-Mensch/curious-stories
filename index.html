<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The Curious Stories Narrator</title>
    <link type="text/css" href="css/style.css" rel="stylesheet"/>

    <script type="text/javascript" src="lib/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="lib/sugar-1.4.1.dev.js"></script>
    <script type="text/javascript" src="lib/acorn.js"></script>

    <script type="text/javascript" src="conf/story.conf.js"></script>

    <script type="text/javascript" src="js/core.js"></script>
    <script type="text/javascript" src="js/effects.js"></script>
    <script type="text/javascript" src="js/story.js"></script>

    <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.2.0/codemirror.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.2.0/mode/javascript/javascript.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.2.0/codemirror.css" />
    <link rel="stylesheet" href="css/theme/monokai.css" />

    <script type="text/javascript" src="mode/curiousscript/curiousscript.js"></script>

    <link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.3.0/firepad.css" />
    <script src="https://cdn.firebase.com/libs/firepad/1.3.0/firepad.min.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Permanent+Marker' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  </head>
  <body>
    <div id="firepad-container"></div>
    <div id="game"></div>

    <div id="nav">
      <a href='' onclick="startGame(); return false;"><i class="fa fa-gamepad"></i></i></a>
      <a href='' onclick="editGame(); return false;"><i class="fa fa-pencil"></i></a>
    </div>

<div id="help">
  <h1>Procedural Story Generation Engine</h1>

  <h2>Syntax</h2>
  <p>Each story consists of a list of events. The story always starts with the <em>first</em> event that is found in the document. An event might look like this..</p>

<pre>
{
  id: 'start',
  text: "I walked down the narrow dark floor.",
  actions: [
    'walkLeft', 
    'walkRight'
  ]
},
{
  id: 'walkLeft',
  actionText: "Walk left",
  text: "I walked down the left path."
},
{
  id: 'walkRight',
  actionText: "Walk right",
  text: "I walked down the right path and fell into a pit."
}
</pre>

<h2>Events</h2>

  <dl>
    <dt>id</dt>
    <dd>ID of the event, which allows to reference it from other events. In case you never want to reference it there is not ID required.</dd>

    <dt>text</dt>
    <dd>The text to be added by the event.</dd>

    <dt>actionText</dt>
    <dd>In case this event is used in a action list, this will be the text on the action button</dd>

    <dt>actions</dt>
    <dd>A list of event references.</dd>
  </dl>
</div>

    <script>
      function init() {
        var firepadRef = getExampleRef();

        // Create CodeMirror (with line numbers and the JavaScript mode).
        window.codeMirror = CodeMirror(document.getElementById('firepad-container'), {
          lineNumbers: true,
          matchBrackets: true,
          styleActiveLine: true,
          mode: 'curiousscript',
          theme: 'monokai',
          lineWrapping: true
          // tabSize: 2,

        });

        // Create Firepad.
        window.firepad = Firepad.fromCodeMirror(firepadRef, window.codeMirror, {
          defaultText: '// Hello World'
        });
      }

      // Helper to get hash from end of URL or generate a random one.
      function getExampleRef() {
        var ref = new Firebase('https://popping-heat-1005.firebaseio.com/test');
        var hash = window.location.hash.replace(/#/g, '');
        if (hash) {
          ref = ref.child(hash);
        } else {
          ref = ref.push(); // generate unique location.
          window.location = window.location + '#' + ref.key(); // add it as a hash to the URL.
        }
        if (typeof console !== 'undefined')
          console.log('Firebase data: ', ref.toString());
        return ref;
      }

      init();
    </script>
  </body>
</html>
